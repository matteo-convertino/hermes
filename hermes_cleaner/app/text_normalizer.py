import re


class TextNormalizer:
    emoji_regex = u'(?:[0-9#*]ï¸âƒ£|[â˜âœŠ-âœðŸŽ…ðŸ‚ðŸ‡ðŸ‘‚ðŸ‘ƒðŸ‘†-ðŸ‘ðŸ‘¦ðŸ‘§ðŸ‘«-ðŸ‘­ðŸ‘²ðŸ‘´-ðŸ‘¶ðŸ‘¸ðŸ‘¼ðŸ’ƒðŸ’…ðŸ’ðŸ’‘ðŸ’ªðŸ•´ðŸ•ºðŸ–ðŸ–•ðŸ––ðŸ™ŒðŸ™ðŸ›€ðŸ›ŒðŸ¤ŒðŸ¤ðŸ¤˜-ðŸ¤ŸðŸ¤°-ðŸ¤´ðŸ¤¶ðŸ¥·ðŸ¦µðŸ¦¶ðŸ¦»ðŸ§’ðŸ§“ðŸ§•ðŸ«ƒ-ðŸ«…ðŸ«°ðŸ«²-ðŸ«¸][ðŸ»-ðŸ¿]?|â›“(?:ï¸â€ðŸ’¥)?|[â›¹ðŸ‹ðŸŒðŸ•µ](?:ï¸â€[â™€â™‚]ï¸|[ðŸ»-ðŸ¿](?:â€[â™€â™‚]ï¸)?)?|â¤(?:ï¸â€[ðŸ”¥ðŸ©¹])?|ðŸ‡¦[ðŸ‡¨-ðŸ‡¬ðŸ‡®ðŸ‡±ðŸ‡²ðŸ‡´ðŸ‡¶-ðŸ‡ºðŸ‡¼ðŸ‡½ðŸ‡¿]|ðŸ‡§[ðŸ‡¦ðŸ‡§ðŸ‡©-ðŸ‡¯ðŸ‡±-ðŸ‡´ðŸ‡¶-ðŸ‡¹ðŸ‡»ðŸ‡¼ðŸ‡¾ðŸ‡¿]|ðŸ‡¨[ðŸ‡¦ðŸ‡¨ðŸ‡©ðŸ‡«-ðŸ‡®ðŸ‡°-ðŸ‡µðŸ‡·ðŸ‡º-ðŸ‡¿]|ðŸ‡©[ðŸ‡ªðŸ‡¬ðŸ‡¯ðŸ‡°ðŸ‡²ðŸ‡´ðŸ‡¿]|ðŸ‡ª[ðŸ‡¦ðŸ‡¨ðŸ‡ªðŸ‡¬ðŸ‡­ðŸ‡·-ðŸ‡º]|ðŸ‡«[ðŸ‡®-ðŸ‡°ðŸ‡²ðŸ‡´ðŸ‡·]|ðŸ‡¬[ðŸ‡¦ðŸ‡§ðŸ‡©-ðŸ‡®ðŸ‡±-ðŸ‡³ðŸ‡µ-ðŸ‡ºðŸ‡¼ðŸ‡¾]|ðŸ‡­[ðŸ‡°ðŸ‡²ðŸ‡³ðŸ‡·ðŸ‡¹ðŸ‡º]|ðŸ‡®[ðŸ‡¨-ðŸ‡ªðŸ‡±-ðŸ‡´ðŸ‡¶-ðŸ‡¹]|ðŸ‡¯[ðŸ‡ªðŸ‡²ðŸ‡´ðŸ‡µ]|ðŸ‡°[ðŸ‡ªðŸ‡¬-ðŸ‡®ðŸ‡²ðŸ‡³ðŸ‡µðŸ‡·ðŸ‡¼ðŸ‡¾ðŸ‡¿]|ðŸ‡±[ðŸ‡¦-ðŸ‡¨ðŸ‡®ðŸ‡°ðŸ‡·-ðŸ‡»ðŸ‡¾]|ðŸ‡²[ðŸ‡¦ðŸ‡¨-ðŸ‡­ðŸ‡°-ðŸ‡¿]|ðŸ‡³[ðŸ‡¦ðŸ‡¨ðŸ‡ª-ðŸ‡¬ðŸ‡®ðŸ‡±ðŸ‡´ðŸ‡µðŸ‡·ðŸ‡ºðŸ‡¿]|ðŸ‡´ðŸ‡²|ðŸ‡µ[ðŸ‡¦ðŸ‡ª-ðŸ‡­ðŸ‡°-ðŸ‡³ðŸ‡·-ðŸ‡¹ðŸ‡¼ðŸ‡¾]|ðŸ‡¶ðŸ‡¦|ðŸ‡·[ðŸ‡ªðŸ‡´ðŸ‡¸ðŸ‡ºðŸ‡¼]|ðŸ‡¸[ðŸ‡¦-ðŸ‡ªðŸ‡¬-ðŸ‡´ðŸ‡·-ðŸ‡¹ðŸ‡»ðŸ‡½-ðŸ‡¿]|ðŸ‡¹[ðŸ‡¦ðŸ‡¨ðŸ‡©ðŸ‡«-ðŸ‡­ðŸ‡¯-ðŸ‡´ðŸ‡·ðŸ‡¹ðŸ‡»ðŸ‡¼ðŸ‡¿]|ðŸ‡¾[ðŸ‡ªðŸ‡¹]|ðŸ‡¿[ðŸ‡¦ðŸ‡²ðŸ‡¼]|[ðŸƒðŸš¶ðŸ§Ž](?:â€(?:[â™€â™‚]ï¸(?:â€âž¡ï¸)?|âž¡ï¸)|[ðŸ»-ðŸ¿](?:â€(?:[â™€â™‚]ï¸(?:â€âž¡ï¸)?|âž¡ï¸))?)?|[ðŸ„ðŸŠðŸ‘®ðŸ‘°ðŸ‘±ðŸ‘³ðŸ‘·ðŸ’ðŸ’‚ðŸ’†ðŸ’‡ðŸ™…-ðŸ™‡ðŸ™‹ðŸ™ðŸ™ŽðŸš£ðŸš´ðŸšµðŸ¤¦ðŸ¤µðŸ¤·-ðŸ¤¹ðŸ¤½ðŸ¤¾ðŸ¦¸ðŸ¦¹ðŸ§ðŸ§ðŸ§”ðŸ§–-ðŸ§](?:â€[â™€â™‚]ï¸|[ðŸ»-ðŸ¿](?:â€[â™€â™‚]ï¸)?)?|ðŸ³(?:ï¸â€(?:âš§ï¸|ðŸŒˆ))?|ðŸ´(?:â€â˜ ï¸|ó §(?:ó ¢(?:ó ¥ó ®ó §|ó ³ó £ó ´)ó ¿)?)?|ðŸˆ(?:â€â¬›)?|ðŸ•(?:â€ðŸ¦º)?|ðŸ¦(?:â€[â¬›ðŸ”¥])?|ðŸ»(?:â€â„ï¸)?|ðŸ‘(?:ï¸â€ðŸ—¨ï¸)?|ðŸ‘¨(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?ðŸ‘¨|ðŸ‘¦(?:â€ðŸ‘¦)?|ðŸ‘§(?:â€[ðŸ‘¦ðŸ‘§])?|[ðŸ‘¨ðŸ‘©]â€(?:ðŸ‘¦(?:â€ðŸ‘¦)?|ðŸ‘§(?:â€[ðŸ‘¦ðŸ‘§])?)|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³])|ðŸ»(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?ðŸ‘¨[ðŸ»-ðŸ¿]|ðŸ¤â€ðŸ‘¨[ðŸ¼-ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?|ðŸ¼(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?ðŸ‘¨[ðŸ»-ðŸ¿]|ðŸ¤â€ðŸ‘¨[ðŸ»ðŸ½-ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?|ðŸ½(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?ðŸ‘¨[ðŸ»-ðŸ¿]|ðŸ¤â€ðŸ‘¨[ðŸ»ðŸ¼ðŸ¾ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?|ðŸ¾(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?ðŸ‘¨[ðŸ»-ðŸ¿]|ðŸ¤â€ðŸ‘¨[ðŸ»-ðŸ½ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?)?|ðŸ‘©(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:[ðŸ‘¨ðŸ‘©]|ðŸ’‹â€[ðŸ‘¨ðŸ‘©])|ðŸ‘¦(?:â€ðŸ‘¦)?|ðŸ‘§(?:â€[ðŸ‘¦ðŸ‘§])?|ðŸ‘©â€(?:ðŸ‘¦(?:â€ðŸ‘¦)?|ðŸ‘§(?:â€[ðŸ‘¦ðŸ‘§])?)|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³])|ðŸ»(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?[ðŸ‘¨ðŸ‘©][ðŸ»-ðŸ¿]|ðŸ¤â€[ðŸ‘¨ðŸ‘©][ðŸ¼-ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?|ðŸ¼(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?[ðŸ‘¨ðŸ‘©][ðŸ»-ðŸ¿]|ðŸ¤â€[ðŸ‘¨ðŸ‘©][ðŸ»ðŸ½-ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?|ðŸ½(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?[ðŸ‘¨ðŸ‘©][ðŸ»-ðŸ¿]|ðŸ¤â€[ðŸ‘¨ðŸ‘©][ðŸ»ðŸ¼ðŸ¾ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?|ðŸ¾(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?[ðŸ‘¨ðŸ‘©][ðŸ»-ðŸ¿]|ðŸ¤â€[ðŸ‘¨ðŸ‘©][ðŸ»-ðŸ½ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?)?|[ðŸ‘¯ðŸ¤¼ðŸ§žðŸ§Ÿ](?:â€[â™€â™‚]ï¸)?|ðŸ˜¶(?:â€ðŸŒ«ï¸)?|ðŸ™‚(?:â€[â†”â†•]ï¸)?|ðŸ§‘(?:â€(?:[âš•âš–âœˆ]ï¸|ðŸ¤â€ðŸ§‘|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ„ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]|(?:ðŸ§‘â€)?ðŸ§’(?:â€ðŸ§’)?)|ðŸ¼(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?ðŸ§‘[ðŸ»ðŸ½-ðŸ¿]|ðŸ¤â€ðŸ§‘[ðŸ»-ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ„ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?|ðŸ½(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?ðŸ§‘[ðŸ»ðŸ¼ðŸ¾ðŸ¿]|ðŸ¤â€ðŸ§‘[ðŸ»-ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ„ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?|ðŸ¾(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?ðŸ§‘[ðŸ»-ðŸ½ðŸ¿]|ðŸ¤â€ðŸ§‘[ðŸ»-ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ„ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?|ðŸ¿(?:â€(?:[âš•âš–âœˆ]ï¸|â¤ï¸â€(?:ðŸ’‹â€)?ðŸ§‘[ðŸ»-ðŸ¾]|ðŸ¤â€ðŸ§‘[ðŸ»-ðŸ¿]|[ðŸ¦¯ðŸ¦¼ðŸ¦½](?:â€âž¡ï¸)?|[ðŸŒ¾ðŸ³ðŸ¼ðŸŽ„ðŸŽ“ðŸŽ¤ðŸŽ¨ðŸ«ðŸ­ðŸ’»ðŸ’¼ðŸ”§ðŸ”¬ðŸš€ðŸš’ðŸ¦°-ðŸ¦³]))?)?|[Â©Â®â€¼â‰â„¢â„¹â†”-â†™â†©â†ªâŒšâŒ›âŒ¨ââ©-â³â¸-âºâ“‚â–ªâ–«â–¶â—€â—»-â—¾â˜€-â˜„â˜Žâ˜‘â˜”â˜•â˜˜â˜ â˜¢â˜£â˜¦â˜ªâ˜®â˜¯â˜¸-â˜ºâ™€â™‚â™ˆ-â™“â™Ÿâ™ â™£â™¥â™¦â™¨â™»â™¾â™¿âš’-âš—âš™âš›âšœâš âš¡âš§âšªâš«âš°âš±âš½âš¾â›„â›…â›ˆâ›Žâ›â›‘â›”â›©â›ªâ›°-â›µâ›·â›¸â›ºâ›½âœ‚âœ…âœˆâœ‰âœâœ’âœ”âœ–âœâœ¡âœ¨âœ³âœ´â„â‡âŒâŽâ“-â•â—â£âž•-âž—âž¡âž°âž¿â¤´â¤µâ¬…-â¬‡â¬›â¬œâ­â­•ã€°ã€½ãŠ—ãŠ™ðŸ€„ðŸƒðŸ…°ðŸ…±ðŸ…¾ðŸ…¿ðŸ†ŽðŸ†‘-ðŸ†šðŸˆðŸˆ‚ðŸˆšðŸˆ¯ðŸˆ²-ðŸˆºðŸ‰ðŸ‰‘ðŸŒ€-ðŸŒ¡ðŸŒ¤-ðŸƒðŸ…-ðŸŠðŸŒ-ðŸŽ„ðŸŽ†-ðŸŽ“ðŸŽ–ðŸŽ—ðŸŽ™-ðŸŽ›ðŸŽž-ðŸðŸ…ðŸ†ðŸˆðŸ‰ðŸ-ðŸ°ðŸµðŸ·-ðŸ‡ðŸ‰-ðŸ”ðŸ–-ðŸ¥ðŸ§-ðŸºðŸ¼-ðŸ‘€ðŸ‘„ðŸ‘…ðŸ‘‘-ðŸ‘¥ðŸ‘ªðŸ‘¹-ðŸ‘»ðŸ‘½-ðŸ’€ðŸ’„ðŸ’ˆ-ðŸ’ŽðŸ’ðŸ’’-ðŸ’©ðŸ’«-ðŸ“½ðŸ“¿-ðŸ”½ðŸ•‰-ðŸ•ŽðŸ•-ðŸ•§ðŸ•¯ðŸ•°ðŸ•³ðŸ•¶-ðŸ•¹ðŸ–‡ðŸ–Š-ðŸ–ðŸ–¤ðŸ–¥ðŸ–¨ðŸ–±ðŸ–²ðŸ–¼ðŸ—‚-ðŸ—„ðŸ—‘-ðŸ—“ðŸ—œ-ðŸ—žðŸ—¡ðŸ—£ðŸ—¨ðŸ—¯ðŸ—³ðŸ—º-ðŸ˜­ðŸ˜¯-ðŸ˜´ðŸ˜·-ðŸ™ðŸ™ƒðŸ™„ðŸ™ˆ-ðŸ™ŠðŸš€-ðŸš¢ðŸš¤-ðŸš³ðŸš·-ðŸš¿ðŸ›-ðŸ›…ðŸ›‹ðŸ›-ðŸ›’ðŸ›•-ðŸ›—ðŸ›œ-ðŸ›¥ðŸ›©ðŸ›«ðŸ›¬ðŸ›°ðŸ›³-ðŸ›¼ðŸŸ -ðŸŸ«ðŸŸ°ðŸ¤ðŸ¤ŽðŸ¤-ðŸ¤—ðŸ¤ -ðŸ¤¥ðŸ¤§-ðŸ¤¯ðŸ¤ºðŸ¤¿-ðŸ¥…ðŸ¥‡-ðŸ¥¶ðŸ¥¸-ðŸ¦´ðŸ¦·ðŸ¦ºðŸ¦¼-ðŸ§ŒðŸ§ðŸ§ -ðŸ§¿ðŸ©°-ðŸ©¼ðŸª€-ðŸªˆðŸª-ðŸª½ðŸª¿-ðŸ«‚ðŸ«Ž-ðŸ«›ðŸ« -ðŸ«¨]|ðŸ«±(?:ðŸ»(?:â€ðŸ«²[ðŸ¼-ðŸ¿])?|ðŸ¼(?:â€ðŸ«²[ðŸ»ðŸ½-ðŸ¿])?|ðŸ½(?:â€ðŸ«²[ðŸ»ðŸ¼ðŸ¾ðŸ¿])?|ðŸ¾(?:â€ðŸ«²[ðŸ»-ðŸ½ðŸ¿])?)?)+'

    def __strip_emoji(self, text: str) -> str:
        emoji_pattern = re.compile(self.emoji_regex)
        return emoji_pattern.sub(r'', text)

    def normalize_text(self, text: str) -> str:
        text = self.__strip_emoji(text)
        text = text.strip()
        text = text.replace("\n", " ")

        return text
